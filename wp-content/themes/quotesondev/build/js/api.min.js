$(document).ready(function(){console.log(red_vars.rest_url),$("#new-quote-button").on("click",function(){$.ajax({method:"GET",url:`${red_vars.rest_url}wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1`}).done(e=>{console.log(e);const t=e[0]._qod_quote_source,o=e[0]._qod_quote_source_url;$(".entry-content").html(e[0].content.rendered),$(".entry-title").html("â€” "+e[0].title.rendered),t?$(".source").html(o?`, <a href='${o}'> ${t}</a>`:`,  ${t}`):$(".source").html("")})}),$("#quoteSubmit").on("submit",function(e){e.preventDefault(),console.log("Form function started.");const t=$("#quoteSubmit :input").serializeArray();console.log(t);const o=t[0].value,r=t[1].value,n=t[2].value,s=t[3].value;$(".error").remove();let u=0;o||($("#author").after('<span class="error">This field is required</span>'),u=1),r||($("#quote").after('<span class="error">This field is required</span>'),u=1),s&&!n&&($("#origin").after('<span class="error">Need to have a source for your quote to enter in a url.</span>'),u=1),u||$.ajax({method:"post",url:`${red_vars.rest_url}wp/v2/posts`,data:{title:o,status:"publish",content:r,_qod_quote_source:n,_qod_quote_source_url:s},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(e){$(".entry-content").html("<p>Success, your quote has been added!</p>")})})});